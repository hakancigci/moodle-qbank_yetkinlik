define(['jquery','core/notification','core/form-autocomplete'],(function($,Notification,Autocomplete){return{init:function(){console.log("local_yetkinlik/mapping init çalıştı"),$(".yetkinlik-select").each((function(){Autocomplete.enhance(this,!1)})),$(document).on("change",".yetkinlik-select",(function(){var el=$(this);$.ajax({url:M.cfg.wwwroot+"/local/yetkinlik/ajax.php",method:"POST",data:{action:"save_mapping",courseid:el.data("courseid"),questionid:el.data("questionid"),competencyid:el.val(),sesskey:M.cfg.sesskey},success:function(resp){try{var data=JSON.parse(resp);console.log("Mapping kaydedildi:",data)}catch(e){Notification.exception(e)}},error:function(xhr,status,error){Notification.exception(error)}})}))}}}));